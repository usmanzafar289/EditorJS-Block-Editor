{"version":3,"sources":["js/templatedparagraphscripts.js"],"names":["msel_clicked","msel","getAttribute","console","log","setAttribute","attr","attrs","split","myOptions","i","opt","label","value","style","display","placeholder","_placeholder","selectedvalue","innerHTML","hasAttribute","VirtualSelect","init","multiple","ele","id","options","allowNewOption","showDropboxAsPopup","selectedValue","addEventListener","getDisplayValue","backgroundColor","dispatchEvent","Event","choose_person","personData","JSON","parse","selectedOption","length","p","choose_vehicle","vehicleData","choose_officer","officerData","choose_location","locationData","hidespan","img","event","stopPropagation","contnr","parentNode","hidespan2","deleteable","textDecoration","color","backgroundcolor","querySelectorAll","forEach","contentEditable","once","showspan","showclickhandler","deletable","getdata","divid","document","getElementById","data","getdata2","root","eles","childNodes","Generator","item","tagName","toLowerCase","prototype","rand","Math","floor","random","Date","now","getId","idGen","itemdata","push","toggleButton","textContent","datatime","date","time","jsonData","selectedOptionId","person_id","vehicle_id","officer_id","location_id","ShowIf","checkShow","attrName","oldVal","newVal","setChangeListener","divname","listener","div","setTimeout","_triggeron","_triggervalue","val","classList","add","remove","HTMLElement","window","customElements","define","FreeText","trim","textDecorationColor","_typing","MSelect","MDateNow","currentDate","day","getDate","month","getMonth","year","getFullYear","today","FixedText","ChooseDate","ChoosePerson","getPersonData","stringify","ChooseVehicle","getVehicleData","ChooseOfficer","getOfficerData","ChooseLocation","getLocationData","DeletableSpan","createElement","verticalAlign","appendChild","Input","shadowRoot","attachShadow","mode","inputElement"],"mappings":"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","file":"templatedparagraphscripts.2bce401b.js","sourceRoot":"..","sourcesContent":["/*//operation with editor'js.\r\nmods to paragraph to allow custom editing of sections\r\nclicking on an internal field choiceetc, will highlight it, show the menu.\r\nclicking on a content editable will highlight it, no menu\r\n\r\n\r\n*/\r\nfunction msel_clicked(msel) {\r\n\t\r\n    if (msel.getAttribute('data-showing') == 'true') {\r\n        console.log('showed');\r\n        return;\r\n    }\r\n    msel.setAttribute('data-showing', 'true');\r\n    var attr = msel.getAttribute('choices');\r\n    var attrs = attr.split(\"|\");\r\n\r\n    var myOptions = [];\r\n    var i = 0;\r\n    for (const opt of attrs) {\r\n        // set option text for the VirtualSelect dropdown component\r\n        myOptions[i] = { label: opt, value: opt };\r\n        i = i + 1;\r\n    }\r\n    msel.style.display = 'inline-block';  // undo what we did in afterclose\r\n    var placeholder = msel._placeholder;\r\n    var selectedvalue;\r\n    if (msel.innerHTML != placeholder)\r\n        selectedvalue = msel.innerHTML;\r\n    else\r\n        selectedvalue = this._placeholder;\r\n    if (msel.hasAttribute('multiple')) {\r\n        VirtualSelect.init({\r\n            placeholder: placeholder,\r\n            multiple: \"\",\r\n            ele: '#' + msel.id,\r\n            options: myOptions,\r\n            allowNewOption: false,\r\n            showDropboxAsPopup: true,\r\n            selectedValue: selectedvalue\r\n\r\n        });\r\n    }\r\n    else\r\n        VirtualSelect.init({\r\n            placeholder: placeholder,\r\n            ele: '#' + msel.id,\r\n            options: myOptions,\r\n            allowNewOption: false,\r\n            showDropboxAsPopup: true,\r\n            selectedValue: selectedvalue\r\n        });\r\n\r\n\r\n    msel.addEventListener('afterClose', function () {\r\n        // reset display to original\r\n        msel.innerHTML = msel.getDisplayValue();\r\n\t\tif(msel.innerHTML != \"\"){\r\n\t\t\tmsel.setAttribute('data-showing', 'false');\r\n\t\t\tmsel.setAttribute('data-hasdata', 'true');\r\n\t\t\tthis.style.backgroundColor = 'white';\r\n\r\n\t\t\t//reset width\r\n\t\t\tmsel.style.display = 'inline';\r\n\t\t\tconsole.log('not showed');\r\n\t\t\tmsel.dispatchEvent(new Event(\"change\")); //change event to trigger other controls\r\n\t\t}else{\r\n\t\t\t msel.setAttribute('data-showing', 'false');\r\n\t\t\t msel.setAttribute('data-hasdata', 'true');\r\n\t\t\t this.style.backgroundColor = 'lightgray';\r\n\t\t\t this.style.display = 'initial';\r\n\t\t\t msel.innerHTML = this._placeholder;\r\n\t\t\t msel.dispatchEvent(new Event(\"change\")); //change event to trigger other controls\r\n\t\t//\tthis._placeholder\r\n\t\t}\r\n    });\r\n}\r\nfunction choose_person(msel) {\r\n   if (msel.getAttribute('data-showing') == 'true') {\r\n        console.log('showed');\r\n        return;\r\n    }\r\n    msel.setAttribute('data-showing', 'true');\r\n    var personData = JSON.parse(msel.getAttribute('json-data'));\r\n\tvar myOptions = [];\r\n    var i = 0;\r\n\tvar selectedOption = 0;\r\n\tif(personData.length > 0){\r\n\t\tfor(var p=0;p<personData.length; p++){\r\n\t\t\tif(msel.innerHTML == personData[p]['fullName']){\r\n\t\t\t selectedOption = personData[p]['id'];\r\n\t\t\t}\r\n\t\t\t myOptions[p] = { label: personData[p]['fullName'], value: personData[p]['id'] };\r\n\t\t}\r\n\t}\r\n\r\n     \r\n    msel.style.display = 'inline-block';  // undo what we did in afterclose\r\n    var placeholder = msel._placeholder;\r\n    var selectedvalue;\r\n\t//debugger\r\n    if (msel.innerHTML != placeholder)\r\n        selectedvalue = msel.innerHTML;\r\n    else\r\n        selectedvalue = this._placeholder;\r\n        VirtualSelect.init({\r\n            placeholder: placeholder,\r\n            ele: '#' + msel.id,\r\n            options: myOptions,\r\n            allowNewOption: false,\r\n            showDropboxAsPopup: true,\r\n            selectedValue: selectedOption\r\n        });\r\n\r\n\r\n    msel.addEventListener('afterClose', function () {\r\n        // reset display to original\r\n        msel.innerHTML = msel.getDisplayValue();\r\n\t\tif(msel.innerHTML != \"\"){\r\n\t\t\tmsel.setAttribute('data-showing', 'false');\r\n\t\t\tmsel.setAttribute('data-hasdata', 'true');\r\n\t\t\tthis.style.backgroundColor = 'white';\r\n\r\n\t\t\t//reset width\r\n\t\t\tmsel.style.display = 'inline';\r\n\t\t\tconsole.log('not showed');\r\n\t\t\tmsel.dispatchEvent(new Event(\"change\")); //change event to trigger other controls\r\n\t\t}else{\r\n\t\t\t msel.setAttribute('data-showing', 'false');\r\n\t\t\t msel.setAttribute('data-hasdata', 'true');\r\n\t\t\t this.style.backgroundColor = 'lightgray';\r\n\t\t\t this.style.display = 'initial';\r\n\t\t\t msel.innerHTML = this._placeholder;\r\n\t\t\t msel.dispatchEvent(new Event(\"change\")); //change event to trigger other controls\r\n\t\t//\tthis._placeholder\r\n\t\t}\r\n    });\r\n}\r\nfunction choose_vehicle(msel) {\r\n   if (msel.getAttribute('data-showing') == 'true') {\r\n        console.log('showed');\r\n        return;\r\n    }\r\n    msel.setAttribute('data-showing', 'true');\r\n    var vehicleData = JSON.parse(msel.getAttribute('json-data'));\r\n\tvar myOptions = [];\r\n    var i = 0;\r\n\tvar selectedOption = 0;\r\n\tif(vehicleData.length > 0){\r\n\t\tfor(var p=0;p<vehicleData.length; p++){\r\n\t\t\tif(msel.innerHTML == vehicleData[p]['vehicleName']){\r\n\t\t\t selectedOption = vehicleData[p]['id'];\r\n\t\t\t}\r\n\t\t\t myOptions[p] = { label: vehicleData[p]['vehicleName'], value: vehicleData[p]['id'] };\r\n\t\t}\r\n\t}\r\n\r\n     \r\n    msel.style.display = 'inline-block';  // undo what we did in afterclose\r\n    var placeholder = msel._placeholder;\r\n    var selectedvalue;\r\n\t//debugger\r\n    if (msel.innerHTML != placeholder)\r\n        selectedvalue = msel.innerHTML;\r\n    else\r\n        selectedvalue = this._placeholder;\r\n        VirtualSelect.init({\r\n            placeholder: placeholder,\r\n            ele: '#' + msel.id,\r\n            options: myOptions,\r\n            allowNewOption: false,\r\n            showDropboxAsPopup: true,\r\n            selectedValue: selectedOption\r\n        });\r\n\r\n\r\n    msel.addEventListener('afterClose', function () {\r\n        // reset display to original\r\n        msel.innerHTML = msel.getDisplayValue();\r\n\t\tif(msel.innerHTML != \"\"){\r\n\t\t\tmsel.setAttribute('data-showing', 'false');\r\n\t\t\tmsel.setAttribute('data-hasdata', 'true');\r\n\t\t\tthis.style.backgroundColor = 'white';\r\n\r\n\t\t\t//reset width\r\n\t\t\tmsel.style.display = 'inline';\r\n\t\t\tconsole.log('not showed');\r\n\t\t\tmsel.dispatchEvent(new Event(\"change\")); //change event to trigger other controls\r\n\t\t}else{\r\n\t\t\t msel.setAttribute('data-showing', 'false');\r\n\t\t\t msel.setAttribute('data-hasdata', 'true');\r\n\t\t\t this.style.backgroundColor = 'lightgray';\r\n\t\t\t this.style.display = 'initial';\r\n\t\t\t msel.innerHTML = this._placeholder;\r\n\t\t\t msel.dispatchEvent(new Event(\"change\")); //change event to trigger other controls\r\n\t\t//\tthis._placeholder\r\n\t\t}\r\n    });\r\n}\r\nfunction choose_officer(msel) {\r\n   if (msel.getAttribute('data-showing') == 'true') {\r\n        console.log('showed');\r\n        return;\r\n    }\r\n    msel.setAttribute('data-showing', 'true');\r\n    var officerData = JSON.parse(msel.getAttribute('json-data'));\r\n\tvar myOptions = [];\r\n    var i = 0;\r\n\tvar selectedOption = 0;\r\n\tif(officerData.length > 0){\r\n\t\tfor(var p=0;p<officerData.length; p++){\r\n\t\t\tif(msel.innerHTML == officerData[p]['fullName']){\r\n\t\t\t selectedOption = officerData[p]['id'];\r\n\t\t\t}\r\n\t\t\t myOptions[p] = { label: officerData[p]['fullName'], value: officerData[p]['id'] };\r\n\t\t}\r\n\t}\r\n\r\n     \r\n    msel.style.display = 'inline-block';  // undo what we did in afterclose\r\n    var placeholder = msel._placeholder;\r\n    var selectedvalue;\r\n\t//debugger\r\n    if (msel.innerHTML != placeholder)\r\n        selectedvalue = msel.innerHTML;\r\n    else\r\n        selectedvalue = this._placeholder;\r\n        VirtualSelect.init({\r\n            placeholder: placeholder,\r\n            ele: '#' + msel.id,\r\n            options: myOptions,\r\n            allowNewOption: false,\r\n            showDropboxAsPopup: true,\r\n            selectedValue: selectedOption\r\n        });\r\n\r\n\r\n    msel.addEventListener('afterClose', function () {\r\n        // reset display to original\r\n        msel.innerHTML = msel.getDisplayValue();\r\n\t\tif(msel.innerHTML != \"\"){\r\n\t\t\tmsel.setAttribute('data-showing', 'false');\r\n\t\t\tmsel.setAttribute('data-hasdata', 'true');\r\n\t\t\tthis.style.backgroundColor = 'white';\r\n\r\n\t\t\t//reset width\r\n\t\t\tmsel.style.display = 'inline';\r\n\t\t\tconsole.log('not showed');\r\n\t\t\tmsel.dispatchEvent(new Event(\"change\")); //change event to trigger other controls\r\n\t\t}else{\r\n\t\t\t msel.setAttribute('data-showing', 'false');\r\n\t\t\t msel.setAttribute('data-hasdata', 'true');\r\n\t\t\t this.style.backgroundColor = 'lightgray';\r\n\t\t\t this.style.display = 'initial';\r\n\t\t\t msel.innerHTML = this._placeholder;\r\n\t\t\t msel.dispatchEvent(new Event(\"change\")); //change event to trigger other controls\r\n\t\t//\tthis._placeholder\r\n\t\t}\r\n    });\r\n}\r\nfunction choose_location(msel) {\r\n   if (msel.getAttribute('data-showing') == 'true') {\r\n        console.log('showed');\r\n        return;\r\n    }\r\n    msel.setAttribute('data-showing', 'true');\r\n    var locationData = JSON.parse(msel.getAttribute('json-data'));\r\n\tvar myOptions = [];\r\n    var i = 0;\r\n\tvar selectedOption = 0;\r\n\tif(locationData.length > 0){\r\n\t\tfor(var p=0;p<locationData.length; p++){\r\n\t\t\tif(msel.innerHTML == locationData[p]['location']){\r\n\t\t\t selectedOption = locationData[p]['id'];\r\n\t\t\t}\r\n\t\t\t myOptions[p] = { label: locationData[p]['location'], value: locationData[p]['id'] };\r\n\t\t}\r\n\t}\r\n\r\n     \r\n    msel.style.display = 'inline-block';  // undo what we did in afterclose\r\n    var placeholder = msel._placeholder;\r\n    var selectedvalue;\r\n\t//debugger\r\n    if (msel.innerHTML != placeholder)\r\n        selectedvalue = msel.innerHTML;\r\n    else\r\n        selectedvalue = this._placeholder;\r\n        VirtualSelect.init({\r\n            placeholder: placeholder,\r\n            ele: '#' + msel.id,\r\n            options: myOptions,\r\n            allowNewOption: false,\r\n            showDropboxAsPopup: true,\r\n            selectedValue: selectedOption\r\n        });\r\n\r\n\r\n    msel.addEventListener('afterClose', function () {\r\n        // reset display to original\r\n        msel.innerHTML = msel.getDisplayValue();\r\n\t\tif(msel.innerHTML != \"\"){\r\n\t\t\tmsel.setAttribute('data-showing', 'false');\r\n\t\t\tmsel.setAttribute('data-hasdata', 'true');\r\n\t\t\tthis.style.backgroundColor = 'white';\r\n\r\n\t\t\t//reset width\r\n\t\t\tmsel.style.display = 'inline';\r\n\t\t\tconsole.log('not showed');\r\n\t\t\tmsel.dispatchEvent(new Event(\"change\")); //change event to trigger other controls\r\n\t\t}else{\r\n\t\t\t msel.setAttribute('data-showing', 'false');\r\n\t\t\t msel.setAttribute('data-hasdata', 'true');\r\n\t\t\t this.style.backgroundColor = 'lightgray';\r\n\t\t\t this.style.display = 'initial';\r\n\t\t\t msel.innerHTML = this._placeholder;\r\n\t\t\t msel.dispatchEvent(new Event(\"change\")); //change event to trigger other controls\r\n\t\t//\tthis._placeholder\r\n\t\t}\r\n    });\r\n}\r\n//do nothing if text edit enabled and showing the text normal mode\r\nfunction hidespan(img) {\r\n\r\n    event.stopPropagation();\r\n    var contnr = img.parentNode;\r\n    hidespan2(contnr);\r\n}\r\n\r\nfunction hidespan2(deleteable) {\r\n    console.log('hidespan');\r\n    console.log(deleteable.id);\r\n\r\n    try {\r\n        deleteable.style.textDecoration = 'line-through';\r\n        deleteable.style.color = \"gray\";\r\n        deleteable.style.backgroundcolor = \"lightgray\";\r\n    } catch { }\r\n    deleteable.setAttribute('data-hidden', 'true');\r\n   // var children = deleteable.childNodes;\r\n\r\n    deleteable.querySelectorAll('i').forEach(ele => {\r\n        ele.style.display='none';\r\n    });\r\n\r\n\tdeleteable.querySelectorAll('free-text').forEach(ele => {\r\n\t\ttry {\r\n\t\t\tele.setAttribute['contenteditable'] = false;\r\n\t\t\t//deletable.querySelectorAll('free-text')[0].setAttribute['contenteditable'] = false\r\n\t\t\tele.style.textDecoration = 'none';\r\n\t\t\tele.contentEditable = false;\r\n\t\t\tif (ele.contentEditable == true || ele.contentEditable == \"true\")\r\n\t\t\t\tele.style.color = \"blue\";\r\n\t\t\telse\r\n\t\t\t\tele.style.color = \"black\";\r\n\t\t} catch {}\r\n\t\t});\r\n    deleteable.querySelectorAll('span m-text deletable-span m-select free-text').forEach(ele => {\r\n        ele.style.textDecoration = 'line-through';\r\n        ele.style.color = \"gray\";\r\n    });\r\n\r\n\r\n  /*  children.forEach(element => {\r\n    };\r\n        console.log(element);\r\n        if (element.tagName !== \"IMG\") {\r\n            //            console.log(element.tagName);\r\n            try {\r\n                element.style.textDecoration = 'line-through';\r\n                element.style.color = \"gray\";\r\n            } catch { }\r\n        }\r\n    });*/\r\n\r\n\r\n //   img.style.display = \"none\";\r\n    const options = {\r\n        once: true   // run click handle ronce only no need to remove it\r\n    }\r\n    //click on deleted text to show it again\r\n    deleteable.addEventListener('click', function () {\r\n        //       console.log('showspan click' + this.id + \" \" + contnr.id);\r\n        event.stopPropagation();\r\n        showspan(deleteable);\r\n    }, options);\r\n\r\n}\r\n\r\nfunction showclickhandler(deletable) {\r\n\r\n}\r\nfunction showspan(deletable) {\r\n\ttry{\r\n\t\tif(deletable.getAttribute('data-hidden') == true || deletable.getAttribute('data-hidden') == \"true\"){\r\n\t\t\t deletable.querySelectorAll('free-text').forEach(ele => {\r\n\t\t\ttry {\r\n\t\t\t\tele.setAttribute['contenteditable'] = false;\r\n\t\t\t\t//deletable.querySelectorAll('free-text')[0].setAttribute['contenteditable'] = false\r\n\t\t\t\tele.style.textDecoration = 'none';\r\n\t\t\t\tif (ele.contentEditable == true || ele.contentEditable == \"true\")\r\n\t\t\t\t\tele.style.color = \"blue\";\r\n\t\t\t\telse\r\n\t\t\t\t\tele.style.color = \"black\";\r\n\t\t\t} catch {}\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t}catch{\r\n\t\t\r\n\t}\r\n    try {\r\n\t    deletable.style.backgroundcolor = \"beige\";\r\n        deletable.style.textDecoration = 'none';\r\n        deletable.style.color = \"black\";\r\n    } catch { }\r\n\r\n    deletable.setAttribute('data-hidden', 'false');\r\n    deletable.querySelectorAll('i').forEach(ele => {\r\n        ele.style.display = \"inline-block\";\r\n    });\r\n\r\n    // anything inside a deletable-span must be handled according to the deletable properites\r\n    deletable.querySelectorAll('span m-text m-select').forEach(ele => {\r\n        try {\r\n            ele.style.textDecoration = 'none';\r\n            if (ele.contentEditable)\r\n                ele.style.color = \"blue\";\r\n            else\r\n                ele.style.color = \"black\";\r\n        } catch {}\r\n        });\r\n    //fix up inside deleteable's contents if parent is not hidden and the inside one is,\r\n    deletable.querySelectorAll('deletable-span').forEach(ele => {\r\n        console.log(ele.id);\r\n        if (ele.id !== deletable.id) {\r\n            try {\r\n                if (ele.getAttribute('data-hidden') === 'false') {\r\n                    // showspan(ele);\r\n                }\r\n                else\r\n                    hidespan2(ele);\r\n            } catch { }\r\n        }\r\n    });\r\n\r\n\r\n}\r\n\r\n\r\n//for testing only-->\r\nfunction getdata(divid) {\r\n    var ele = document.getElementById(divid);\r\n    var data = [];\r\n    data = getdata2(ele, data);\r\n    // data = data.replace('\\n', '').replace('\\r', '');\r\n    return data;\r\n    //    console.log(data);\r\n    //    document.getElementById('output').innerHTML = data;\r\n}\r\n\r\nfunction getdata2(root, data) {\r\n    //    console.log(\"ele \" + root.tagName);\r\n    var eles = root.childNodes;\r\n    if (eles == null) {\r\n        return;\r\n    }\r\n    //  console.log(\"rtrt\" + eles.length);\r\n    for (var i = 0; i < eles.length; i++) {\r\n        var ele = eles.item(i);\r\n        //      console.log(\"rtrt\" + ele);\r\n        if (ele === null) {\r\n            //          console.log(\"rtrt null\");\r\n            continue;\r\n        }\r\n\t\tif(typeof ele.tagName == \"undefined\" || ele.tagName == \"undefined\" || ele.tagName == \"\"){\r\n\t\t\tcontinue;\r\n\t\t}\r\n        if (ele.tagName === 'deletable-span') {\r\n            try {\r\n                var attr = ele.getAttribute('data-hidden');\r\n                if (attr.toLowerCase() === 'true' || attr.toLowerCase() === true) {   // don't go inside deletable sections\r\n                    continue;\r\n                }\r\n            } catch { }\r\n        }\r\n\t\t\r\n\t\tfunction Generator() {};\r\n\r\n\t\tGenerator.prototype.rand =  Math.floor(Math.random() * 26) + Date.now();\r\n\r\n\t\tGenerator.prototype.getId = function() {\r\n\t\t   return this.rand++;\r\n\t\t};\r\n\t\tvar idGen =new Generator();\r\n\t\t\r\n\t\tele.id = ele.id != \"\" ? ele.id : idGen.getId();\r\n\t\tif (ele.tagName.toLowerCase() === 'free-text') {\r\n\t\t\t  if (ele.contentEditable || ele.getAttribute('data-save').toLowerCase() === 'true'  || ele.getAttribute('data-save').toLowerCase() === true) {\r\n\r\n                var itemdata = { id: ele.id, data: ele.innerHTML };\r\n                data.push(itemdata);\r\n            }\r\n\r\n        }\r\n        else if (ele.tagName.toLowerCase() == 'm-select' || ele.tagName.toLowerCase() === 'mfromapp') {\r\n\r\n            var itemdata = { id: ele.id, data: ele.innerHTML };\r\n            data.push(itemdata);\r\n\r\n        }\r\n        // else if for m-datenow\r\n        else if (ele.tagName.toLowerCase() == 'm-datenow'|| ele.tagName.toLowerCase() === 'mfromapp') {\r\n            var itemdata = { id: ele.id, data: ele.innerHTML };\r\n            data.push(itemdata);\r\n\r\n        }\r\n\t\telse if (ele.tagName.toLowerCase() == 'm-date') {\r\n            var itemdata = {id: ele.id, data: ele.toggleButton.textContent };\r\n            data.push(itemdata);\r\n\r\n        }\r\n\t\telse if (ele.tagName.toLowerCase() == 'm-time') {\r\n            var itemdata = { id: ele.id, data: ele.childNodes[0].value };\r\n            data.push(itemdata);\r\n\r\n        }\r\n\t\telse if (ele.tagName.toLowerCase() == 'datetime-picker') {\r\n\t\t\tvar datatime = ele.date+\" \"+ele.time;\r\n\t\r\n            var itemdata = { id: ele.id, data: datatime };\r\n            data.push(itemdata);\r\n\r\n        }\r\n\t\telse if (ele.tagName.toLowerCase() == 'choose-person') {\r\n\t\t\tvar jsonData = JSON.parse(ele.getAttribute('json-data'));\r\n\t\t\tvar selectedOptionId = null;\r\n\t\t\tif(jsonData.length > 0){\r\n\t\t\t\tfor(var p=0;p<jsonData.length;p++){\r\n\t\t\t\t\tif(jsonData[p]['fullName'] == ele.innerHTML){\r\n\t\t\t\t\t\tselectedOptionId = jsonData[p]['id'];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t    var itemdata = { id: (ele.id+idGen.getId()), data: ele.innerHTML,person_id:selectedOptionId };\r\n            data.push(itemdata);\r\n\r\n        }else if (ele.tagName.toLowerCase() == 'choose-vehicle') {\r\n\t\t\tvar jsonData = JSON.parse(ele.getAttribute('json-data'));\r\n\t\t\tvar selectedOptionId = null;\r\n\t\t\tif(jsonData.length > 0){\r\n\t\t\t\tfor(var p=0;p<jsonData.length;p++){\r\n\t\t\t\t\tif(jsonData[p]['vehicleName'] == ele.innerHTML){\r\n\t\t\t\t\t\tselectedOptionId = jsonData[p]['id'];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t    var itemdata = { id: (ele.id+idGen.getId()), data: ele.innerHTML,vehicle_id:selectedOptionId };\r\n            data.push(itemdata);\r\n\r\n        }else if (ele.tagName.toLowerCase() == 'choose-officer') {\r\n\t\t\tvar jsonData = JSON.parse(ele.getAttribute('json-data'));\r\n\t\t\tvar selectedOptionId = null;\r\n\t\t\tif(jsonData.length > 0){\r\n\t\t\t\tfor(var p=0;p<jsonData.length;p++){\r\n\t\t\t\t\tif(jsonData[p]['fullName'] == ele.innerHTML){\r\n\t\t\t\t\t\tselectedOptionId = jsonData[p]['id'];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t    var itemdata = { id: (ele.id+idGen.getId()), data: ele.innerHTML,officer_id:selectedOptionId };\r\n            data.push(itemdata);\r\n\r\n        }\r\n\t\telse if (ele.tagName.toLowerCase() == 'choose-location') {\r\n\t\t\tvar jsonData = JSON.parse(ele.getAttribute('json-data'));\r\n\t\t\tvar selectedOptionId = null;\r\n\t\t\tif(jsonData.length > 0){\r\n\t\t\t\tfor(var p=0;p<jsonData.length;p++){\r\n\t\t\t\t\tif(jsonData[p]['location'] == ele.innerHTML){\r\n\t\t\t\t\t\tselectedOptionId = jsonData[p]['id'];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t    var itemdata = { id: (ele.id+idGen.getId()), data: ele.innerHTML,location_id:selectedOptionId };\r\n            data.push(itemdata);\r\n\r\n        }\r\n\t\t\r\n        // else if (ele.tagName.startsWith('chooser')) {\r\n\r\n        //     var attr = ele.getAttribute('data-hasdata');\r\n        //     if (attr === 'true') {\r\n        //         var itemdata = { id: ele.id, data: ele.innerHTML };\r\n        //         data.push(itemdata);\r\n        //     }\r\n\r\n        // }\r\n        else\r\n            data = getdata2(ele, data)\r\n    }\r\n    return data;\r\n\r\n}\r\n\r\n\r\nclass ShowIf extends HTMLElement {\r\n\r\n    constructor() {\r\n\r\n        super();\r\n        this.addEventListener(\"click\", function () { this.checkShow() });\r\n    }\r\n    static get observedAttributes() {\r\n        return ['triggeron', 'triggervalue'];\r\n    }\r\n    attributeChangedCallback(attrName, oldVal, newVal) {\r\n        if (attrName == \"triggeron\") {\r\n            const ele = this;\r\n            this.setChangeListener(newVal, function () {\r\n                ele.checkShow();\r\n            });\r\n        }\r\n    }\r\n\r\n    setChangeListener(divname, listener) {\r\n        const div = document.getElementById(divname);\r\n        if (div === null) {\r\n            setTimeout(() => { this.setChangeListener(divname, listener) }, 100);  //the element hasn't always been created when we get here first time so use timeout to wait for it\r\n        }\r\n        else {\r\n            div.addEventListener(\"blur\", listener);\r\n            div.addEventListener(\"keyup\", listener);\r\n            div.addEventListener(\"paste\", listener);\r\n            div.addEventListener(\"copy\", listener);\r\n            div.addEventListener(\"cut\", listener);\r\n            div.addEventListener(\"delete\", listener);\r\n            div.addEventListener(\"mouseup\", listener);\r\n            div.addEventListener(\"input\", listener);\r\n            div.addEventListener(\"change\", listener); //triggered m-select\r\n            this.checkShow();\r\n        }\r\n    }\r\n\r\n    checkShow() {\r\n\t\t//debugger\r\n        const _triggeron = this.getAttribute('triggeron');\r\n        const _triggervalue = this.getAttribute('triggervalue');\r\n        const ele = document.getElementById(_triggeron);\r\n        const val = ele.innerHTML\r\n        if (val === _triggervalue){\r\n\t\t\t//this.\r\n\t\t\tthis.parentNode.classList.add(\"show_L_shape\");\r\n            this.style.display = \"inline\";\r\n        }else{\r\n      \tthis.parentNode.classList.remove(\"show_L_shape\");\r\n            this.style.display = \"none\";\r\n\t\t}\r\n    }\r\n}\r\n\r\nwindow.customElements.define('show-if', ShowIf);\r\n\r\n\r\nclass FreeText extends HTMLElement {\r\n\r\n    constructor() {\r\n\r\n        super();\r\n        //this doesn't work  this.contenteditable = true;\r\n        this.setAttribute(\"contenteditable\", true);\r\n    }\r\n    static get observedAttributes() {\r\n        return ['placeholder'];\r\n    }\r\n    _placeholder;\r\n    _typing;\r\n    attributeChangedCallback(attrName, oldVal, newVal) {\r\n        if (attrName == \"placeholder\") {\r\n            this._placeholder = newVal;\r\n            if (this.innerHTML.trim() === \"\") {\r\n                this.innerHTML = this._placeholder;\r\n                this.style.textDecoration = 'underline';\r\n                this.style.textDecorationColor = 'red';\r\n            }\r\n        }\r\n        this.setChangeListener(function () {\r\n            if (!this._typing && this.innerHTML.trim() === \"\") {\r\n                this.innerHTML = this._placeholder;\r\n                this.style.textDecoration = 'underline';\r\n                this.style.textDecorationColor = 'red';\r\n            }\r\n            else if (this.innerHTML.trim() !== \"\") {\r\n                this._typing = false;\r\n                this.style.textDecoration = 'none';\r\n                this.style.textDecorationColor = 'red';\r\n            }\r\n\r\n        });\r\n    }\r\n    setChangeListener(listener) {\r\n\r\n        this.addEventListener(\"blur\", function () {\r\n            if (this.innerHTML.trim() === \"\") {\r\n                this.innerHTML = this._placeholder;\r\n                this.style.textDecoration = 'underline';\r\n                this.style.textDecorationColor = 'red';\r\n            }\r\n        });\r\n        this.addEventListener(\"keyup\", listener);\r\n        this.addEventListener(\"paste\", listener);\r\n        this.addEventListener(\"copy\", listener);\r\n        this.addEventListener(\"cut\", listener);\r\n        this.addEventListener(\"delete\", listener);\r\n        this.addEventListener(\"mouseup\", listener);\r\n        this.addEventListener(\"input\", listener);\r\n        this.addEventListener(\"change\", listener); //triggered m-select\r\n        this.addEventListener(\"focus\", function () {\r\n            this._typing = true;\r\n            if (this.innerHTML === this._placeholder)\r\n                this.innerHTML = \"   \";\r\n        }); //triggered m-select\r\n    }\r\n\r\n\r\n}\r\nwindow.customElements.define('free-text', FreeText);\r\n\r\nclass MSelect extends HTMLElement {\r\n    _placeholder;\r\n    constructor() {\r\n\r\n        super();\r\n        this.classList.add('chooserbutton');\r\n        this.setAttribute(\"data-hasdata\", \"false\");\r\n        this.addEventListener('click', function () {\r\n\t\t    msel_clicked(this);\r\n        });\r\n        this._placeholder = this.innerHTML;\r\n    }\r\n    rawvalue() {\r\n        if (this.innerHTML == this._placeholder)\r\n            return \"\";\r\n        else\r\n            return this.innerHTML;\r\n    }\r\n}\r\nwindow.customElements.define('m-select', MSelect);\r\n\r\nclass MDateNow extends HTMLElement {\r\n    _placeholder;\r\n    constructor() {\r\n\r\n        super();\r\n        //this.setAttribute(\"data-hasdata\", \"false\");\r\n        var currentDate = new Date()\r\n        var day = currentDate.getDate()\r\n        var month = currentDate.getMonth() + 1\r\n        var year = currentDate.getFullYear()\r\n        var today=\"<b>\" + day + \"/\" + month + \"/\" + year + \"</b>\"\r\n        //console.log(\"today date\",today)\r\n        this.innerHTML = today;\r\n    }\r\n    rawvalue() {\r\n        if (this.innerHTML == this._placeholder)\r\n            return \"\";\r\n        else\r\n            return this.innerHTML;\r\n    }\r\n}\r\nwindow.customElements.define('m-datenow', MDateNow);\r\n\r\nclass FixedText extends HTMLElement {\r\n\r\n    constructor() {\r\n\r\n        super();\r\n    }\r\n    rawvalue() {\r\n        return this.innerHTML;\r\n    }\r\n\r\n}\r\nwindow.customElements.define('fixed-text', FixedText);\r\n\r\nclass ChooseDate extends HTMLElement {\r\n    _placeholder;\r\n    constructor() {\r\n\r\n        super();\r\n        if (this.innerHTML.trim() === \"\") {\r\n            this._placeholder = 'Choose Date';\r\n            this.innerHTML = \"<datetime-picker id='choose_datetime_field' datetime='{{datetime}}' date='{{date}}' default='2021-08-14'></datetime-picker>\";\r\n        }\r\n        else {\r\n\r\n            this._placeholder = this.innerHTML;\r\n        }\r\n        this.classList.add('chooserbutton');\r\n        this.setAttribute(\"data-hasdata\", \"false\");\r\n        this.addEventListener('click', function () {\r\n           // window.alert('date chooser');//   NativeFunction(this.tagName)\r\n            this.setAttribute(\"data-hasdata\", \"true\");\r\n            this.style.backgroundColor = 'white';\r\n        });\r\n    }\r\n    rawvalue() {\r\n        if (this.innerHTML == this._placeholder)\r\n            return \"\";\r\n        else\r\n            return this.innerHTML;\r\n    }\r\n}\r\nwindow.customElements.define('choose-date', ChooseDate);\r\n\r\n\r\nclass ChoosePerson extends HTMLElement {\r\n    _placeholder;\r\n\r\n    constructor() {\r\n\r\n        super();\r\n        if (this.innerHTML.trim() === \"\") {\r\n            this._placeholder = 'Choose Person';\r\n            this.innerHTML = this._placeholder;\r\n        }\r\n        else {\r\n\r\n            this._placeholder = this.innerHTML;\r\n        }\r\n        this.classList.add('chooserbutton');\r\n        this.setAttribute(\"data-hasdata\", \"false\");\r\n\t\tvar personData = getPersonData();\r\n\t\tthis.setAttribute(\"json-data\", JSON.stringify(personData));\r\n\t\t\r\n        this.addEventListener('click', function () {\r\n            //window.alert('Person');//   NativeFunction(this.tagName)\r\n            //this.setAttribute(\"data-hasdata\", \"true\");\r\n            //this.innerHTML = \"Ian bowles\";\r\n            //this.style.backgroundColor = 'white';\r\n\t\t\t\r\n\t\t\tchoose_person(this);\r\n        });\r\n\t\t/* this.getPersonData = function(){\r\n\t\t\tvar serviceMethodName = \"./json_data/person.json\";\r\n\t\t\tvar params = {};\r\n\t\t\tcallService(serviceMethodName, this.successGetPersonData, this.errorGetPersonData, params, \"get\",\"file_system\" );\r\n\t\t}\r\n\t\tthis.successGetPersonData = function(response){\r\n\t\t\tdebugger\r\n\t\t}\r\n\t\tthis.errorGetPersonData = function(error){\r\n\t\t\tdebugger\t\r\n\t\t} */\r\n\t\t\r\n    }\r\n    rawvalue() {\r\n        if (this.innerHTML == this._placeholder)\r\n            return \"\";\r\n        else\r\n            return this.innerHTML;\r\n    }\r\n}\r\nwindow.customElements.define('choose-person', ChoosePerson);\r\n\r\nclass ChooseVehicle extends HTMLElement {\r\n    _placeholder;\r\n\r\n    constructor() {\r\n\r\n        super();\r\n        if (this.innerHTML.trim() === \"\") {\r\n            this._placeholder = 'Choose Vehicle';\r\n            this.innerHTML = this._placeholder;\r\n        }\r\n        else {\r\n\r\n            this._placeholder = this.innerHTML;\r\n        }\r\n\t\tvar vehicleData = getVehicleData();\r\n\t\tthis.setAttribute(\"json-data\", JSON.stringify(vehicleData));\r\n        this.classList.add('chooserbutton');\r\n        this.setAttribute(\"data-hasdata\", \"false\");\r\n\r\n        this.addEventListener('click', function () {\r\n            /* window.alert('Vehicle');//   NativeFunction(this.tagName)\r\n            this.setAttribute(\"data-hasdata\", \"true\");\r\n            this.innerHTML = \"BASJ862 Volkwagen Jetta\";\r\n            this.style.backgroundColor = 'white'; */\r\n\t\t\tchoose_vehicle(this);\r\n        });\r\n    }\r\n    rawvalue() {\r\n        if (this.innerHTML == this._placeholder)\r\n            return \"\";\r\n        else\r\n            return this.innerHTML;\r\n    }\r\n}\r\nwindow.customElements.define('choose-vehicle', ChooseVehicle);\r\nclass ChooseOfficer extends HTMLElement {\r\n    _placeholder;\r\n\r\n    constructor() {\r\n\r\n        super();\r\n        if (this.innerHTML.trim() === \"\") {\r\n            this._placeholder = 'Choose Officer';\r\n            this.innerHTML = this._placeholder;\r\n        }\r\n        else {\r\n\r\n            this._placeholder = this.innerHTML;\r\n        }\r\n\t\tvar officerData = getOfficerData();\r\n\t\tthis.setAttribute(\"json-data\", JSON.stringify(officerData));\r\n        this.classList.add('chooserbutton');\r\n        this.setAttribute(\"data-hasdata\", \"false\");\r\n\r\n        this.addEventListener('click', function () {\r\n           /*  this.setAttribute(\"data-hasdata\", \"true\");\r\n            window.alert('Officer');//   NativeFunction(this.tagName)\r\n            this.innerHTML = \"Officer Joe 1234\";\r\n            this.style.backgroundColor = 'white'; */\r\n\t\t\tchoose_officer(this);\r\n        });\r\n    }\r\n    rawvalue() {\r\n        if (this.innerHTML == this._placeholder)\r\n            return \"\";\r\n        else\r\n            return this.innerHTML;\r\n    }\r\n}\r\nwindow.customElements.define('choose-officer', ChooseOfficer);\r\n\r\nclass ChooseLocation extends HTMLElement {\r\n    _placeholder;\r\n\r\n    constructor() {\r\n\r\n        super();\r\n        if (this.innerHTML.trim() === \"\") {\r\n            this._placeholder = 'Choose Location';\r\n            this.innerHTML = this._placeholder;\r\n        }\r\n        else {\r\n\r\n            this._placeholder = this.innerHTML;\r\n        }\r\n\t\tvar locationData = getLocationData();\r\n\t\tthis.setAttribute(\"json-data\", JSON.stringify(locationData));\r\n        this.classList.add('chooserbutton');\r\n        this.setAttribute(\"data-hasdata\", \"false\");\r\n\r\n        this.addEventListener('click', function () {\r\n            /* window.alert('Location');//   NativeFunction(this.tagName)\r\n            this.innerHTML = \"123 Pineridge Rd, Carp, Ont K0A 1L0\";\r\n            this.style.backgroundColor = 'white'; */\r\n\t\t\tchoose_location(this);\r\n        });\r\n    }\r\n    rawvalue() {\r\n        if (this.innerHTML == this._placeholder)\r\n            return \"\";\r\n        else\r\n            return this.innerHTML;\r\n    }\r\n}\r\nwindow.customElements.define('choose-location', ChooseLocation);\r\n\r\n\r\nclass DeletableSpan extends HTMLElement {\r\n\r\n    constructor() {\r\n\r\n        super();\r\n        //           this.contenteditable = false;\r\n        this.setAttribute('data-hidden', 'false');\r\n\r\n    //    let img = document.createElement('img');\r\n    //    img.src = \"delete32.png\";\r\n    //    img.classList.add('deleteimg');\r\n        let img = document.createElement('i');\r\n\r\n        img.classList.add('fas');\r\n        img.classList.add('fa-2x');\r\n        img.classList.add('fa-backspace');\r\n        img.style.color = 'red';\r\n        img.style.verticalAlign = 'middle';\r\n        this.appendChild(img);\r\n        img.addEventListener('click', function () {\r\n            hidespan(img)\r\n        });\r\n\r\n    }\r\n    rawvalue() {\r\n        if (this.innerHTML == this._placeholder)\r\n            return \"\";\r\n        else\r\n            return this.innerHTML;\r\n    }\r\n\r\n}\r\nwindow.customElements.define('deletable-span', DeletableSpan);\r\n\r\n\r\nclass Input extends HTMLElement {\r\n    _placeholder;\r\n    constructor() {\r\n\r\n        super();\r\n         // Attaches a shadow root to our custom element.\r\n    const shadowRoot = this.attachShadow({mode: 'open'});\r\n    \r\n    // Defines the \"real\" input element.\r\n    let inputElement = document.createElement('input');\r\n    inputElement.setAttribute('type', this.getAttribute('type'));\r\n    \r\n    inputElement.addEventListener('focus', () => {\r\n      console.log('focus on created input');\r\n    });\r\n        shadowRoot.appendChild(inputElement);\r\n    }\r\n}\r\nwindow.customElements.define('m-number', Input);"]}