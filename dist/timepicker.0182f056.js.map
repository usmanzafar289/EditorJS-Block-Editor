{"version":3,"sources":["js/timepicker.js"],"names":["tp","instances","init","wrapper","target","id","length","push","wrap","inst","undefined","picker","document","createElement","className","appendChild","buttonator","segment","box","up","innerHTML","val","type","disabled","value","down","addEventListener","sap","spin","sspin","ok","set","stimer","ssensitive","direction","sid","sseg","smax","smin","sdir","hmspin","setInterval","clearInterval","cv","parseInt","timestamp","classList","remove","attach","opt","getElementById","readOnly","hr","min","ap","substring","add","window","pop","body"],"mappings":"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","file":"timepicker.0182f056.js","sourceRoot":"..","sourcesContent":["var tp = {\r\n  // (A) CREATE TIME PICKER\r\n  instances : [], // All time picker instances\r\n  init: function (wrapper, target) {\r\n  // wrapper - container to generate time picker into\r\n  // target - optional, target input field for inline time pickers\r\n\r\n    // (A1) CREATE NEW INSTANCE + \"GET ID\"\r\n    let id = tp.instances.length;\r\n    tp.instances.push({ wrap : wrapper });\r\n    let inst = tp.instances[id];\r\n    if (target != undefined) { inst.target = target; }\r\n\r\n    // (A2) TIME PICKER ITSELF\r\n    let picker = document.createElement(\"div\");\r\n    picker.className = \"tp\";\r\n    inst.wrap.appendChild(picker);\r\n\r\n    // (A3) *THE* BUTTONATOR - HR + MIN + AM/PM\r\n    let buttonator = function (segment) {\r\n      // Button Container\r\n      let box = document.createElement(\"div\");\r\n      box.className = \"tp-box\";\r\n\r\n      // Up Button\r\n      let up = document.createElement(\"div\");\r\n      up.innerHTML = \"&#65087;\";\r\n      up.className = \"tp-up\";\r\n\r\n      // Current Value\r\n      let val = document.createElement(\"input\");\r\n      val.type = \"text\";\r\n      val.disabled = true;\r\n      val.className = \"tp-val\";\r\n      if (segment == \"hr\") { val.value = \"01\"; }\r\n      else if (segment == \"min\") { val.value = \"00\"; }\r\n      else { val.value = \"AM\"; }\r\n      inst[segment] = val;\r\n\r\n      // Down Button\r\n      let down = document.createElement(\"div\");\r\n      down.innerHTML = \"&#65088;\";\r\n      down.className = \"tp-up\";\r\n\r\n      // Button click handlers\r\n      if (segment == \"ap\") {\r\n        up.addEventListener(\"click\", function(){\r\n          tp.sap(id);\r\n        });\r\n        down.addEventListener(\"click\", function(){\r\n          tp.sap(id);\r\n        });\r\n      } else {\r\n        up.addEventListener(\"mousedown\", function(){\r\n          tp.spin(id, segment, 1);\r\n        });\r\n        down.addEventListener(\"mousedown\", function(){\r\n          tp.spin(id, segment, 0);\r\n        });\r\n        up.addEventListener(\"mouseup\", tp.sspin);\r\n        up.addEventListener(\"mouseleave\", tp.sspin);\r\n        down.addEventListener(\"mouseup\", tp.sspin);\r\n        down.addEventListener(\"mouseleave\", tp.sspin);\r\n      }\r\n\r\n      // Append all the buttons\r\n      box.appendChild(up);\r\n      box.appendChild(val);\r\n      box.appendChild(down);\r\n      picker.appendChild(box);\r\n    };\r\n    buttonator(\"hr\");\r\n    buttonator(\"min\");\r\n    buttonator(\"ap\");\r\n    \r\n    // (A4) OK BUTTON\r\n    let ok = document.createElement(\"input\");\r\n    ok.type = \"button\";\r\n    ok.value = \"OK\";\r\n    ok.className = \"tp-ok\";\r\n    ok.addEventListener(\"click\", function(){\r\n      tp.set(id);\r\n    });\r\n    picker.appendChild(ok);\r\n  },\r\n\r\n  // (B) \"HOLD TO SPIN\" FOR HOUR + MIN\r\n  stimer : null, // Spin timer\r\n  ssensitive : 100, // lower will spin faster\r\n  spin : function (id, segment, direction) {\r\n    if (tp.stimer == null) {\r\n      tp.sid = id;\r\n      tp.sseg = segment;\r\n      tp.smax = segment == \"hr\" ? 12 : 59;\r\n      tp.smin = segment == \"hr\" ? 1 : 0;\r\n      tp.sdir = direction;\r\n      tp.hmspin();\r\n      tp.stimer = setInterval(tp.hmspin, tp.ssensitive);\r\n    }\r\n  },\r\n\r\n  // (C) STOP HR/MIN SPIN\r\n  sspin : function () {\r\n    if (tp.stimer != null) {\r\n      clearInterval(tp.stimer);\r\n      tp.stimer = null;\r\n    }\r\n  },\r\n\r\n  // (D) SPIN HR OR MIN\r\n  sid : null, // Instance ID\r\n  sseg : null, // Segment to spin\r\n  smax : null, // Maximum value (12 for hr, 59 for min)\r\n  smin : null, // Minimum value (1 for hr, 0 for min)\r\n  sdir : null, // Spin direction\r\n  hmspin : function () {\r\n    // (D1) CURRENT VALUE\r\n    let box = tp.instances[tp.sid][tp.sseg],\r\n        cv = parseInt(box.value);\r\n\r\n    // (D2) SPIN!\r\n    if (tp.sdir) { cv++; }\r\n    else { cv--; }\r\n    if (cv < tp.smin) { cv = tp.smin; }\r\n    if (cv > tp.smax) { cv = tp.smax; }\r\n    if (cv < 10) { cv = \"0\" + cv; }\r\n\r\n    // (D3) UPDATE DISPLAY\r\n    box.value = cv;\r\n  },\r\n  \r\n  // (E) SPIN AM/PM\r\n  sap : function (id) {\r\n    // (E1) GET CURRENT VALUE\r\n    let box = tp.instances[id][\"ap\"],\r\n        cv = box.value;\r\n\r\n    // (E2) SET VALUE\r\n    box.value = (cv == \"AM\") ? \"PM\" : \"AM\";\r\n  },\r\n  \r\n  // (F) SET SELECTED TIME\r\n  set : function (id) {\r\n    // (F1) GET + FORMAT HH:MM AM/PM\r\n    let inst = tp.instances[id],\r\n    timestamp = tp.instances[id][\"hr\"].value + \":\" +\r\n                tp.instances[id][\"min\"].value + \" \" +\r\n                tp.instances[id][\"ap\"].value;\r\n\r\n    // (F2) SET TIMESTAMP\r\n    inst.target.value = timestamp;\r\n\r\n    // (F3) CLOSE TIME PICKER (POPUP ONLY)\r\n    if (id==0) {\r\n      inst.wrap.classList.remove(\"show\");\r\n    }\r\n  },\r\n\r\n  // (G) ATTACH TIME PICKER TO TARGET\r\n  attach : function (opt) {\r\n  // target - input field\r\n  // wrap - optional, inline time picker\r\n\r\n    // (G1) SET INPUT FIELD READONLY\r\n    let target = document.getElementById(opt.target);\r\n    //console.log(\"target\",target);\r\n    target.readOnly = true;\r\n    // (G2) INLINE VERSION - GENERATE TIME PICKER HTML\r\n    if (opt.wrap) {\r\n      tp.init(document.getElementById(opt.wrap), target);\r\n    }\r\n    \r\n    // (G3) POPUP VERSION - SHOW POPUP ON CLICK\r\n    else {\r\n      target.addEventListener(\"click\", function(){\r\n        // Get + set popup time\r\n        let cv = this.value;\r\n        if (cv == \"\") {\r\n          tp.instances[0].hr.value = \"01\";\r\n          tp.instances[0].min.value = \"00\";\r\n          tp.instances[0].ap.value = \"AM\";\r\n        } else {\r\n          tp.instances[0].hr.value = cv.substring(0, 2);\r\n          tp.instances[0].min.value = cv.substring(3, 5);\r\n          tp.instances[0].ap.value = cv.substring(6, 8);\r\n        }\r\n        // Set target + show popup\r\n        tp.instances[0].target = target;\r\n        tp.instances[0].wrap.classList.add(\"show\");\r\n      });\r\n    }\r\n  }\r\n};\r\n\r\n// (H) CREATE \"DEFAULT\" POPUP TIME PICKER ON LOAD\r\nwindow.addEventListener(\"DOMContentLoaded\", function(){\r\n  let pop = document.createElement(\"div\");\r\n  document.body.appendChild(pop);\r\n  pop.id = \"tp-pop\";\r\n  tp.init(pop);\r\n});"]}